<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<template id="coop_memberspace.mywork">
		<t t-call="website.layout">
            <t t-set="title">Espace membre | Ma Participation</t>
            <div class="container-fluid" t-if="website.user_id != user_id">
                <!-- Status -->
                <div contenteditable="false" style="text-align: center;color:white;border: 1px solid #8bc34a;margin-top: 10px;background: #8bc34a;
                    margin-left: -15px;margin-right: -15px;">
                    <h3 t-esc="member_status or ''" />
                </div>
            </div>
            <div class="container">
                <t t-if="is_standard_member">
                    <t t-call="coop_memberspace.mywork_standard" />
                </t>
                <t t-if="is_ftop_member">
                    <t t-call="coop_memberspace.mywork_ftop" />
                </t>
            </div>
        </t>
    </template>

    <!-- MYWORK STANDARD MEMBER -->

    <template id="coop_memberspace.mywork_standard">
        <div class="row" style="margin-top: 20px">
            <div class="col-md-6">
                <div style="border: 1px solid #b2b7bb;padding: 10px;margin-bottom:10px">
                    <div class="row">
                        <div class="col-md-10">
                            <div>
                                <span class="fa fa-clock-o" style="font-size: 4.5em;"/>
                                <span style="font-size: 35px;border: 1px solid green;padding: 0px 31px;margin-left: 15px;" t-esc="standard_point" />
                            </div>
                            <div>
                                <span style="font-size: 25px;font-weight: 600">Compteur ABCD</span>
                            </div>
                            <div>
                                <span style="font-size: 15px;font-weight: 600">Représente votre situation auprès de votre équipe permanente. Ce compteur est à « 0 » lorsque vous êtes à jour, il est négatif quand vous devez des rattrapages.</span>
                            </div>
                        </div>
                        <div class="col-md-2" style="text-align: right;margin-top:30px;">
                            <a href="/standard/counter_classic"><span class="fa fa-caret-right" style="font-size: 4em" /></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div style="border: 1px solid #b2b7bb;padding: 10px;margin-bottom:10px">
                    <div class="row">
                        <div class="col-md-10">
                            <div>
                                <span class="fa fa-clock-o" style="font-size: 4.5em;"/>
                                <span style="font-size: 35px;border: 1px solid green;padding: 0px 31px;margin-left: 15px;" t-esc="ftop_point"/>
                            </div>
                            <div>
                                <span style="font-size: 25px;font-weight: 600">Compteur des services anticipés</span>
                            </div>
                            <div>
                                <span style="font-size: 15px;font-weight: 600">Représente les points accumulés en faisant des services en plus de vos services habituels. A partir d’un cumul de 2 points, vous pouvez demander un congé anticipé.</span>
                            </div>
                        </div>
                        <div class="col-md-2" style="text-align: right;margin-top:30px;">
                            <a href="/standard/counter_extra"><span class="fa fa-caret-right" style="font-size: 4em" /></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" style="padding-left: 15px;padding-right:15px;margin-top: 30px">
            <p style="font-size: 25px;font-weight: 600">Mes prochains services</p>
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Heure</th>
                            <th>Coordinateurs</th>
                            <th>Echange</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-if="shift_upcomming" t-foreach="shift_upcomming" t-as="shift">
                            <tr>
                                <t t-set="date_begin" t-value="user.get_time_by_user_lang(shift.date_begin, ['%A, %B %d, %Y', '%HH%M'], lang=user.lang + '.utf8')" />
                                <td scope="row"><t t-if="date_begin" t-esc="date_begin and date_begin[0] or ''"/></td>
                                <td><t t-if="date_begin" t-esc="date_begin and date_begin[1] or ''"/></td>
                                <td><span><t t-esc="shift.get_coordinators()" /> <i data-toggle="tooltip" title="Info: Vous pouvez contacter vos coordinateurs en écrivant à
                                    coordos.ave10@cooplalouve.fr (we should be able to copy the address)" class="fa fa-question-circle"></i></span></td>
                                <td>Extra</td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row" style="margin-top: 20px">
            <!-- <div class="col-md-6">
                <div style="border: 1px solid #b2b7bb;padding: 10px;margin-bottom:10px;">
                    <p style="font-size: 25px;font-weight: 600">Echange de services</p>
                    <p class="text-center">Si vous ne pouvez exceptionnellement assurer votre service,
                        vous pouvez l’échanger avec un autre membre via la bourse aux services !</p>
                    <div class="text-center"><a href="/standard/echange_de_services" class="btn btn-default">Echange</a></div>
                </div>
            </div> -->
            <div class="col-md-6">
                <div style="border: 1px solid #b2b7bb;padding: 10px;margin-bottom:10px;">
                    <p style="font-size: 25px;font-weight: 600">Programmer un service anticipé</p>
                    <p class="text-center">Vous pouvez accumuler des services sur votre compteur extra en
                        prévision de périodes de congés. Vous pourrez annuler votre
                        participation en cas de besoin dans la section « Mes prochains services ».</p>
                    <div class="text-center"><a href="/standard/programmer_un_extra" class="btn btn-default btn-warning">Programmer</a></div>
                </div>
            </div>
        </div>
    </template>

    <template id="coop_memberspace.counter">
		<t t-call="website.layout">
            <t t-if="classic">
                <t t-set="title">Espace membre | Compteur classique</t>
                <t t-call="coop_memberspace.classic_counter" />
            </t>
            <t t-if="extra">
                <t t-set="title">Espace membre | Compteur extra</t>
                <t t-call="coop_memberspace.extra_counter" />
            </t>
            <t t-if="programmer_un_extra">
                <t t-set="title">Espace membre | Programmer un extra</t>
                <t t-call="coop_memberspace.programmer_un_extra" />
            </t>
            <t t-if="echange_de_services">
                <t t-set="title">Espace membre | Mes prochains services</t>
                <t t-call="coop_memberspace.echange_de_services" />
            </t>
        </t>
    </template>

    <template id="coop_memberspace.classic_counter">
        <div class="container">
            <div class="row" style="padding: 10px;">
                <h3 style="font-weight: 600;margin-top: 30px;margin-bottom: 10px;">Compteur classique</h3>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Créé le</th>
                                <th>Créé par</th>
                                <th>Service</th>
                                <th>Description</th>
                                <th>Manuel</th>
                                <th>Ignoré</th>
                                <th>Points</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-if="shift_counter_events" t-foreach="shift_counter_events" t-as="item">
                                <tr>
                                    <t t-set="create_date" t-value="user.get_time_by_user_lang(item.create_date, ['%d/%m/%Y %H:%M'], lang=user.lang + '.utf8')" />
                                    <td scope="row"><t t-esc="create_date and create_date[0] or ''" /></td>
                                    <td><t t-esc="item.create_uid.name" /></td>
                                    <td><span t-esc="item.shift_id and item.shift_id.name_get()[0][1] or ''"/></td>
                                    <td><t t-esc="item.name" /></td>
                                    <td><t t-esc="item.is_manual" /></td>
                                    <td><t t-esc="item.ignored" /></td>
                                    <td><t t-esc="item.point_qty" /></td>
                                    <td><t t-esc="item.notes" /></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </template>

    <template id="coop_memberspace.extra_counter">
        <div class="container">
            <div class="row" style="padding: 10px;">
                <h3 style="font-weight: 600;margin-top: 30px;margin-bottom: 10px;">Compteur extra</h3>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Créé le</th>
                                <th>Créé par</th>
                                <th>Service</th>
                                <th>Description</th>
                                <th>Manuel</th>
                                <th>Ignoré</th>
                                <th>Points</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-if="shift_counter_events_extra" t-foreach="shift_counter_events_extra" t-as="item">
                                <tr>
                                    <t t-set="create_date" t-value="user.get_time_by_user_lang(item.create_date, ['%d/%m/%Y %H:%M'], lang=user.lang + '.utf8')" />
                                    <td scope="row"><t t-esc="create_date and create_date[0] or ''" /></td>
                                    <td><t t-esc="item.create_uid.name" /></td>
                                    <td><span t-esc="item.shift_id and item.shift_id.name_get()[0][1] or ''"/></td>
                                    <td><t t-esc="item.name" /></td>
                                    <td><t t-esc="item.is_manual" /></td>
                                    <td><t t-esc="item.ignored" /></td>
                                    <td><t t-esc="item.point_qty" /></td>
                                    <td><t t-esc="item.notes" /></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- <div class="row" style="padding: 10px;">
            <p style="font-size: 25px;font-weight: 600;margin-top: 30px;margin-bottom: 10px;">Compteur volant</p>
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Créé le</th>
                            <th>Créé par</th>
                            <th>Service</th>
                            <th>Description</th>
                            <th>Manuel</th>
                            <th>Ignoré</th>
                            <th>Points</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                        </tr>
                        <tr>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                        </tr>
                        <tr>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                        </tr>
                        <tr>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                        </tr>
                        <tr>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                        </tr>
                        <tr>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                            <td scope="row">Vendredi 12 juin 2018</td>
                            <td>10H45</td>
                            <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA </span></td>
                            <td>Extra</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div> -->
    </template>

    <template id="coop_memberspace.programmer_modal">
        <div id="programmer_modal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <!-- <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">x</button>
                        <h4 class="modal-title">Modal Header</h4>
                    </div> -->
                    <div class="modal-body">
                        <p class="text-center">Veuillez confirmer votre inscription au service suivant :</p>
                        <div class="text-center">
                            <span style="margin-right: 10px" id="modal_time"></span>
                            <span id="modal_hour"></span>
                        </div>
                        <div class="text-center">
                            <button type="object" class="fa fa-times" data-dismiss="modal" style="margin-right: 40px;font-size: 3em;background-color: transparent;border: 0px;" />
                            <button type="object" class="fa fa-check" style="font-size: 3em;background-color: transparent;border: 0px;"/>
                        </div>
                    </div>
                    <!-- <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div> -->
                </div>

            </div>
        </div>
    </template>

    <template id="coop_memberspace.modal_error">
        <div id="error_modal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">x</button>
                        <h4 class="modal-title" id="error_header"></h4>
                    </div>
                    <div class="modal-body">
                        <p class="text-center" id="error_body"></p>
                    </div>
                </div>

            </div>
        </div>
    </template>

    <template id="coop_memberspace.programmer_un_extra">
        <div class="container">
            <div class="row programmer_un_extra" style="padding: 10px;">
                <h3 style="font-weight: 600;margin-top: 30px;margin-bottom: 10px;">Programmer un extra</h3>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Heure</th>
                                <th>Places disponibles</th>
                                <th>Inscription</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-if="shifts_available" t-foreach="shifts_available" t-as="shift">
                                <t t-set="seats_avail" t-value="sum(shift.shift_ticket_ids.filtered(lambda r: r.shift_type == 'ftop').mapped('seats_available'))" />
                                <t t-if="seats_avail > 0">
                                    <tr>
                                        <t t-set="date_begin" t-value="user.get_time_by_user_lang(shift.date_begin, ['%A %B %d %Y', '%HH%M'], lang=user.lang + '.utf8')" />
                                        <td scope="row" t-attf-id="time-{{shift.id}}" ><t t-esc="date_begin and date_begin[0] or ''" /></td>
                                        <td t-attf-id="hour-{{shift.id}}"><t t-esc="date_begin and date_begin[1] or ''" /></td>
                                        <td><span t-attf-id="avalable-seats-{{shift.id}}" t-esc="seats_avail" /></td>
                                        <td><a><span class="fa fa-user-plus" data-toggle="modal" data-target="#programmer_modal" t-attf-id="btn-add-{{shift.id}}" t-att-data-shift-id="shift.id" /></a></td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </div>
                <t t-call="coop_memberspace.programmer_modal" />
                <t t-call="coop_memberspace.modal_error" />
            </div>
        </div>
    </template>

    <template id="coop_memberspace.echange_de_services">
        <div class="container">
            <div class="row" style="padding-left: 15px;padding-right:15px;margin-top: 30px">
                <h3 style="font-weight: 600">Mes prochains services</h3>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Heure</th>
                                <th>Coordinateurs</th>
                                <th>Echange</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA <i data-toggle="tooltip" title="Info: Vous pouvez contacter vos coordinateurs en écrivant à
                                    coordos.ave10@cooplalouve.fr (we should be able to copy the address)" class="fa fa-question-circle"></i></span></td>
                                <td>Extra</td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA <i data-toggle="tooltip" title="Hooray!" class="fa fa-question-circle"></i></span></td>
                                <td>Extra</td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA <i data-toggle="tooltip" title="Hooray!" class="fa fa-question-circle"></i></span></td>
                                <td>Extra</td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA <i data-toggle="tooltip" title="Hooray!" class="fa fa-question-circle"></i></span></td>
                                <td>Extra</td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA <i data-toggle="tooltip" title="Hooray!" class="fa fa-question-circle"></i></span></td>
                                <td>Extra</td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA <i data-toggle="tooltip" title="Hooray!" class="fa fa-question-circle"></i></span></td>
                                <td>Extra</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row" style="padding-left: 15px;padding-right:15px;margin-top: 30px">
                <h3 style="font-weight: 600">Services à l’échange</h3>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Heure</th>
                                <th>Coordinateurs</th>
                                <th>Echange</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA</span></td>
                                <td><span data-toggle="modal" data-target="#myModal_service" class="fa fa-plus-square"/></td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA</span></td>
                                <td><span data-toggle="modal" data-target="#myModal_service" class="fa fa-plus-square"/></td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA</span></td>
                                <td><span data-toggle="modal" data-target="#myModal_service" class="fa fa-plus-square"/></td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA</span></td>
                                <td><span data-toggle="modal" data-target="#myModal_service" class="fa fa-plus-square"/></td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA</span></td>
                                <td><span data-toggle="modal" data-target="#myModal_service" class="fa fa-plus-square"/></td>
                            </tr>
                            <tr>
                                <td scope="row">Vendredi 12 juin 2018</td>
                                <td>10H45</td>
                                <td><span>Fanny MILLOT, Maryline DELARBRE, Patrick PIECZONKA</span></td>
                                <td><span data-toggle="modal" data-target="#myModal_service" class="fa fa-plus-square"/></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="myModal_service" class="modal fade" role="dialog">
                    <div class="modal-dialog">

                        <!-- Modal content-->
                        <div class="modal-content">
                            <!-- <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">x</button>
                                <h4 class="modal-title">Modal Header</h4>
                            </div> -->
                            <div class="modal-body">
                                <p class="text-center">Veuillez sélectionner le service à remplacer :</p>
                                <div class="text-center">
                                    <div class="checkbox">
                                        <span style="margin-right: 10px">Vendredi 12 juin 2018</span>
                                        <span style="margin-right: 30px">10H45</span>
                                        <input name="options" id="checkbox1" type="radio" checked="checked" />
                                    </div>
                                </div>
                                <div class="text-center">
                                    <div class="checkbox">
                                        <span style="margin-right: 10px">Vendredi 12 juin 2018</span>
                                        <span style="margin-right: 30px">10H45</span>
                                        <input name="options" id="checkbox2" type="radio" />
                                    </div>
                                </div>
                                <div class="text-center">
                                    <div class="checkbox">
                                        <span style="margin-right: 10px">Vendredi 12 juin 2018</span>
                                        <span style="margin-right: 30px">10H45</span>
                                        <input name="options" id="checkbox3" type="radio" />
                                    </div>
                                </div>
                                <div class="text-center">
                                    <span class="fa fa-times" data-dismiss="modal" style="margin-right: 40px;font-size: 3em;" />
                                    <span class="fa fa-check" style="font-size: 3em;"/>
                                </div>
                            </div>
                            <!-- <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div> -->
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- MYWORK FTOP MEMBER -->

    <template id="coop_memberspace.mywork_ftop">
        <div class="row" style="margin-top: 20px">
            <div class="col-md-6">
                <div style="border: 1px solid #b2b7bb;padding: 10px;margin-bottom:10px">
                    <div class="row">
                        <div class="col-md-10">
                            <div>
                                <span class="fa fa-clock-o" style="font-size: 4.5em;"/>
                                <span style="font-size: 35px;border: 1px solid green;padding: 0px 31px;margin-left: 15px;" t-esc="ftop_point" />
                            </div>
                            <div>
                                <span style="font-size: 25px;font-weight: 600">Mon compteur volant</span>
                            </div>
                            <div>
                                <span style="font-size: 15px;font-weight: 600">Votre statut est “à jour” à zéro points ou plus. Par contre, pour être en règle pour le prochain décompte volants vous devez être à +1 ou plus.</span>
                            </div>
                        </div>
                        <div class="col-md-2" style="text-align: right;margin-top:30px;">
                            <a href="/ftop/my_counter"><span class="fa fa-caret-right" style="font-size: 4em" /></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div style="border: 1px solid #b2b7bb;padding: 10px;margin-bottom:10px;">
                    <p style="font-size: 25px;font-weight: 600">Programmer un service volant</p>
                    <p class="text-center">Si vous êtes membre de l’équipe volante, passez par ici pour voir les
                        services disponibles et programmer vôtre vacation. L’annulation
                        d’un service se fait uniquement par contact direct avec le bureau des membres.</p>
                    <div class="text-center"><a class="btn btn-default btn-warning toggle-ftop-programmer">Programmer</a></div>
                </div>
            </div>
        </div>
        <div class="row" style="padding: 10px;">
            <p style="font-size: 25px;font-weight: 600;margin-top: 30px;margin-bottom: 10px;">Mes prochains services</p>
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Heure</th>
                            <th>Coordinateurs</th>
                            <th>Annulation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-if="shift_upcomming" t-foreach="shift_upcomming" t-as="shift">
                            <tr>
                                <t t-set="date_begin" t-value="user.get_time_by_user_lang(shift.date_begin, ['%A, %B %d, %Y', '%HH%M'], lang=user.lang + '.utf8')" />
                                <td scope="row"><t t-if="date_begin" t-esc="date_begin and date_begin[0] or ''"/></td>
                                <td><t t-if="date_begin" t-esc="date_begin and date_begin[1] or ''"/></td>
                                <td><span><t t-esc="shift.get_coordinators()" /> <i data-toggle="tooltip" title="Info: Vous pouvez contacter vos coordinateurs en écrivant à
                                    coordos.ave10@cooplalouve.fr (we should be able to copy the address)" class="fa fa-question-circle"></i></span></td>
                                <td><a><span class="fa fa-times" data-toggle="modal" data-target="#myModal"/></a></td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>

            <div id="ftop_programmer_modal" class="modal fade programmer_une_vacation" role="dialog">
                <div class="modal-dialog">

                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">x</button>
                        </div>
                        <div class="modal-body">
                            <div class="row" style="padding: 10px;">
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Heure</th>
                                                <th>Places disponibles</th>
                                                <th>Inscription</th>
                                            </tr>
                                        </thead>
                                        <tbody class="body_ftop_programmer">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <t t-call="coop_memberspace.programmer_modal" />
            <t t-call="coop_memberspace.modal_error" />
        </div>
    </template>

    <template id="coop_memberspace.ftop_my_counter">
        <t t-call="website.layout">
            <t t-set="title">Espace membre | Mon compteur</t>
            <div class="container">
                <div class="row" style="padding: 10px;">
                    <p style="font-size: 25px;font-weight: 600;margin-top: 30px;margin-bottom: 10px;">Mon compteur</p>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Créé le</th>
                                    <th>Créé par</th>
                                    <th>Service</th>
                                    <th>Description</th>
                                    <th>Manuel</th>
                                    <th>Ignoré</th>
                                    <th>Points</th>
                                    <th>Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-if="shift_counter_events" t-foreach="shift_counter_events" t-as="item">
                                    <tr>
                                        <t t-set="create_date" t-value="user.get_time_by_user_lang(item.create_date, ['%d/%m/%Y %H:%M'], lang=user.lang + '.utf8')" />
                                        <td scope="row"><t t-esc="create_date and create_date[0] or ''" /></td>
                                        <td><t t-esc="item.create_uid.name" /></td>
                                        <td><span t-esc="item.shift_id and item.shift_id.name_get()[0][1] or ''"/></td>
                                        <td><t t-esc="item.name" /></td>
                                        <td><t t-esc="item.is_manual" /></td>
                                        <td><t t-esc="item.ignored" /></td>
                                        <td><t t-esc="item.point_qty" /></td>
                                        <td><t t-esc="item.notes" /></td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </t>
    </template>

</openerp>